# This is the vocabulary for creating R2RML
@prefix rr: <http://www.w3.org/ns/r2rml#>.
# This is the vocabulary of our ontology
@prefix upendo: <http://www.semanticweb.org/ardavan.akhalij/ontologies/2021/11/untitled-ontology-7#>.


<#Brand>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Brand" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/brand/{name}" ;
rr:class upendo:Brand ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:brandName ;
rr:objectMap [ rr:column "name" ] ;
].

<#Category>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Category" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/category/{name}" ;
rr:class upendo:Category ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:categoryName ;
rr:objectMap [ rr:column "name" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Category_description ;
rr:objectMap [ rr:column "description" ] ;
].

<#ProductImages>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "ProductImages" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/{product}/{imageUrl}" ;
rr:class upendo:ProductImage ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:image_is_of ;
rr:objectMap [
rr:parentTriplesMap <#Product> ;
rr:joinCondition [rr:child "product" ; rr:parent "sku" ]
];
rr:predicateObjectMap [
rr:predicate upendo:ProductImage_url ;
rr:objectMap [ rr:column "imageUrl" ] ;
].

<#Admin>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Admin" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/admin/{name}" ;
rr:class upendo:Admin ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:adminName ;
rr:objectMap [ rr:column "name" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Admin_telephone ;
rr:objectMap [ rr:column "telephone" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Admin_email ;
rr:objectMap [ rr:column "email" ] ;
].


<#Product>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Product" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/product/{sku}" ;
rr:class upendo:Product ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:sku;
rr:objectMap [ rr:column "sku" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Product_name;
rr:objectMap [ rr:column "name" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:color;
rr:objectMap [ rr:column "color" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Item_condition;
rr:objectMap [ rr:column "itemCondition" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Product_price ;
rr:objectMap [ rr:column "price" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:model ;
rr:objectMap [ rr:column "model" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Product_description ;
rr:objectMap [ rr:column "description" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:stockQuantity ;
rr:objectMap [ rr:column "stockQuantity" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:location ;
rr:objectMap [ rr:column "location" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Product_date_added ;
rr:objectMap [ rr:column "dateAdded" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Has_Brand ;####################
rr:objectMap [ 
rr:parentTriplesMap <#Brand> ;
rr:joinCondition [rr:child "brand" ; rr:parent "name" ]
] 
];
rr:predicateObjectMap [
rr:predicate upendo:Belongs_To ;#####################
rr:objectMap [ 
rr:parentTriplesMap <#Category> ;
rr:joinCondition [rr:child "category" ; rr:parent "name" ]
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:has_adminSeller ; ###############
rr:objectMap [ 
rr:parentTriplesMap <#Admin> ;    
rr:joinCondition [rr:child "adminSeller" ; rr:parent "email" ]
];
rr:predicateObjectMap [
rr:predicate upendo:has_supplierSeller ; ############## This and the admin_seller can be represented in a better way
rr:objectMap [ 
rr:parentTriplesMap <#Supplier> ;    
rr:joinCondition [rr:child "supplierSeller" ; rr:parent "bce" ]
] ;
].

<#Cart>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Cart" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/cart/{customer}/{product}" ;
rr:class upendo:Cart ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:cart_by ;#######################
rr:objectMap [ 
rr:parentTriplesMap <#customers_information> ;    
rr:joinCondition [rr:child "customer" ; rr:parent "email" ]    
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:cart_contains ;#####################
rr:objectMap [
rr:parentTriplesMap <#Product> ;    
rr:joinCondition [rr:child "product" ; rr:parent "sku" ] 
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Cart_date_added ;
rr:objectMap [ rr:column "dateAdded" ] ;
].

<#Reviews>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Reviews" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/review/{author}/{about}" ;
rr:class upendo:Reviews ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:review_by ; ###############
rr:objectMap [ 
rr:parentTriplesMap <#customers_information> ;    
rr:joinCondition [rr:child "author" ; rr:parent "email" ]
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:review_on ;######################
rr:objectMap [
rr:parentTriplesMap <#Product> ;    
rr:joinCondition [rr:child "about" ; rr:parent "sku" ] 
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:review_body ;
rr:objectMap [ rr:column "reviewBody" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:review_ratingValue ;
rr:objectMap [ rr:column "reviewRatingValue" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:review_dateCreated ;
rr:objectMap [ rr:column "dateCreated" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:review_dateModified ;
rr:objectMap [ rr:column "dateModified" ] ;
].

<#Order>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "Order" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/order/{orderID}" ;
rr:class upendo:Order ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:orderID ;
rr:objectMap [ rr:column "orderID" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Has_Delivery_Status ;#####################
rr:objectMap [
rr:parentTriplesMap <#delivery_status_description> ;    
rr:joinCondition [rr:child "orderStatus" ; rr:parent "delivery_status" ]  
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:date ;
rr:objectMap [ rr:column "orderDate" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:order_by ; ###################
rr:objectMap [ 
rr:parentTriplesMap <#customers_information> ;    
rr:joinCondition [rr:child "customerEmail" ; rr:parent "email" ] 
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:order_deliveryAddress ; ##################
rr:objectMap [ 
rr:parentTriplesMap <#customers_addresses> ;    
rr:joinCondition [rr:child "customerAddress" ; rr:parent "address" ]  
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:orderAmount ;
rr:objectMap [ rr:column "orderAmount" ] ;
];
rr:predicateObjectMap [
rr:predicate upendo:Has_The_Delivery_Type ; ######################
rr:objectMap [ 
rr:parentTriplesMap <#delivery_services_type> ;    
rr:joinCondition [rr:child "deliveryService" ; rr:parent "delivery_kind" ]  
] ;
].

<#OrderDescription>
a rr:TriplesMap ;
rr:logicalTable [ rr:tableName "OrderDescription" ] ;
rr:subjectMap [
rr:template "http://data.upendo-ecommerce/order/{order}/{product}" ;
rr:class upendo:OrderDescription ;
] ;
rr:predicateObjectMap [
rr:predicate upendo:describes_order ; ###############
rr:objectMap [ 
rr:parentTriplesMap <#Order> ;    
rr:joinCondition [rr:child "order" ; rr:parent "orderID" ] 
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:order_on ;######################
rr:objectMap [ 
rr:parentTriplesMap <#Product> ;    
rr:joinCondition [rr:child "product" ; rr:parent "sku" ] 
] ;
];
rr:predicateObjectMap [
rr:predicate upendo:orderQuantity ;
rr:objectMap [ rr:column "quantity" ] ;
].

#ARDAVAN'S PART
<#customers_information>
  a rr:TriplesMap ;
  rr:logicalTable [
    rr:tableName "customers_information"
  ];
